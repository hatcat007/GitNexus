services:
  memvid-export-api:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    environment:
      MEMVID_EXPORT_API_KEY: "${MEMVID_EXPORT_API_KEY}"
      MEMVID_EXPORT_BIND_ADDR: "0.0.0.0:8080"
      MEMVID_EXPORT_ROOT: "/data/exports"
      MEMVID_EXPORT_RETENTION_SECONDS: "86400"
      MEMVID_EXPORT_QUEUE_CAPACITY: "128"
    volumes:
      - memvid_exports:/data/exports
    restart: unless-stopped

volumes:
  memvid_exports:
